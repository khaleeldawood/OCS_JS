<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Registration Form Task</title>
    <style>
        .error { color: red;
        font-size: 0.9em; display: none; }
        .form-group { margin-bottom: 15px;
        }
    </style>
</head>
<body>

<h2>Registration Form</h2>
<form id="regForm" onsubmit="return validateForm(event)">
    <div class="form-group">
        <label>First Name:</label>
        <input type="text" id="fname">
        <div id="fnameError" class="error">Name must contain just letters</div>
    </div>

    <div class="form-group">
        <label>Last Name:</label>
        <input type="text" id="lname">
        <div id="lnameError" class="error">Name must contain just letters</div>
    </div>

    <div class="form-group">
   
        <label>Birth Date:</label>
        <input type="date" id="bdate">
        <div id="dateError" class="error">Please enter a valid date</div>
    </div>

    <div class="form-group">
        <label>Email:</label>
        <input type="text" id="email">
        <div id="emailFormatError" class="error">Invalid email structure</div>
    </div>
    <div class="form-group">
        <label>Confirm Email:</label>
        <input type="text" id="emailConfirm">
   
        <div id="emailMatchError" class="error">Emails do not match</div>
    </div>

    <div class="form-group">
        <label>Password:</label>
        <input type="password" id="password">
        <div id="passError" class="error">
            Password must start with Capital, have 2 numbers, 1 symbol, and be 8-32 chars.
        </div>
    </div>
    <div class="form-group">
        <label>Confirm Password:</label>
        <input type="password" id="passConfirm">
        <div id="passMatchError" class="error">Passwords do not match</div>
    </div>

    <div class="form-group">
        <label>Mobile Number:</label>
        <input type="text" id="mobile">
        <div id="mobileError" class="error">Mobile number should be 10 numbers</div>
    </div>

    <button type="submit">Register</button>
</form>

<script>
function validateForm(e) {
    e.preventDefault();
    let isValid = true;
    
    document.querySelectorAll('.error').forEach(el => el.style.display = 'none');
    const nameRegex = /^[A-Za-z]+$/;
    if(!nameRegex.test(document.getElementById('fname').value)) {
        document.getElementById('fnameError').style.display = 'block';
        isValid = false;
    }
    if(!nameRegex.test(document.getElementById('lname').value)) {
        document.getElementById('lnameError').style.display = 'block';
        isValid = false;
    }

    if(!document.getElementById('bdate').value) {
        document.getElementById('dateError').style.display = 'block';
        isValid = false;
    }

    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    const email = document.getElementById('email').value;
    const emailConf = document.getElementById('emailConfirm').value;
    
    if(!emailRegex.test(email)) {
        document.getElementById('emailFormatError').style.display = 'block';
        isValid = false;
    }

    if(email !== emailConf) {
        document.getElementById('emailMatchError').style.display = 'block';
        isValid = false;
    }

    const pass = document.getElementById('password').value;
    const passConf = document.getElementById('passConfirm').value;

    const startCap = /^[A-Z]/;
    const twoNums = /(.*[0-9]){2}/;
    const specialChar = /[!@#$%^&*(),.?":{}|<>]/;
    const lengthCheck = /^.{8,32}$/;

    if (!startCap.test(pass) || !twoNums.test(pass) || !specialChar.test(pass) || !lengthCheck.test(pass)) {
        document.getElementById('passError').style.display = 'block';
        isValid = false;
    }

    if(pass !== passConf) {
        document.getElementById('passMatchError').style.display = 'block';
        isValid = false;
    }

  
    const mobileRegex = /^\d{10}$/;
    if(!mobileRegex.test(document.getElementById('mobile').value)) {
        document.getElementById('mobileError').style.display = 'block';
        isValid = false;
    }

    if(isValid) {
        alert("Registration Successful!");
    }
    return isValid;
}
</script>
</body>
</html>